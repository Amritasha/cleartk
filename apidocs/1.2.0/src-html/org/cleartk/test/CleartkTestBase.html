<HTML>
<BODY BGCOLOR="white">
<PRE>
<FONT color="green">001</FONT>    /** <a name="line.1"></a>
<FONT color="green">002</FONT>     * Copyright (c) 2010, Regents of the University of Colorado <a name="line.2"></a>
<FONT color="green">003</FONT>     * All rights reserved.<a name="line.3"></a>
<FONT color="green">004</FONT>     * <a name="line.4"></a>
<FONT color="green">005</FONT>     * Redistribution and use in source and binary forms, with or without<a name="line.5"></a>
<FONT color="green">006</FONT>     * modification, are permitted provided that the following conditions are met:<a name="line.6"></a>
<FONT color="green">007</FONT>     * <a name="line.7"></a>
<FONT color="green">008</FONT>     * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. <a name="line.8"></a>
<FONT color="green">009</FONT>     * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution. <a name="line.9"></a>
<FONT color="green">010</FONT>     * Neither the name of the University of Colorado at Boulder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission. <a name="line.10"></a>
<FONT color="green">011</FONT>     * <a name="line.11"></a>
<FONT color="green">012</FONT>     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"<a name="line.12"></a>
<FONT color="green">013</FONT>     * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE<a name="line.13"></a>
<FONT color="green">014</FONT>     * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE<a name="line.14"></a>
<FONT color="green">015</FONT>     * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE<a name="line.15"></a>
<FONT color="green">016</FONT>     * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR<a name="line.16"></a>
<FONT color="green">017</FONT>     * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF<a name="line.17"></a>
<FONT color="green">018</FONT>     * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS<a name="line.18"></a>
<FONT color="green">019</FONT>     * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN<a name="line.19"></a>
<FONT color="green">020</FONT>     * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)<a name="line.20"></a>
<FONT color="green">021</FONT>     * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE<a name="line.21"></a>
<FONT color="green">022</FONT>     * POSSIBILITY OF SUCH DAMAGE. <a name="line.22"></a>
<FONT color="green">023</FONT>     */<a name="line.23"></a>
<FONT color="green">024</FONT>    package org.cleartk.test;<a name="line.24"></a>
<FONT color="green">025</FONT>    <a name="line.25"></a>
<FONT color="green">026</FONT>    import static org.junit.Assert.assertEquals;<a name="line.26"></a>
<FONT color="green">027</FONT>    <a name="line.27"></a>
<FONT color="green">028</FONT>    import java.io.File;<a name="line.28"></a>
<FONT color="green">029</FONT>    import java.io.IOException;<a name="line.29"></a>
<FONT color="green">030</FONT>    import java.util.Arrays;<a name="line.30"></a>
<FONT color="green">031</FONT>    import java.util.HashSet;<a name="line.31"></a>
<FONT color="green">032</FONT>    import java.util.Set;<a name="line.32"></a>
<FONT color="green">033</FONT>    import java.util.logging.Logger;<a name="line.33"></a>
<FONT color="green">034</FONT>    <a name="line.34"></a>
<FONT color="green">035</FONT>    import org.apache.uima.UIMAException;<a name="line.35"></a>
<FONT color="green">036</FONT>    import org.apache.uima.analysis_engine.AnalysisEngine;<a name="line.36"></a>
<FONT color="green">037</FONT>    import org.apache.uima.collection.CollectionReader;<a name="line.37"></a>
<FONT color="green">038</FONT>    import org.apache.uima.jcas.JCas;<a name="line.38"></a>
<FONT color="green">039</FONT>    import org.apache.uima.resource.metadata.TypeSystemDescription;<a name="line.39"></a>
<FONT color="green">040</FONT>    import org.junit.Assume;<a name="line.40"></a>
<FONT color="green">041</FONT>    import org.junit.Before;<a name="line.41"></a>
<FONT color="green">042</FONT>    import org.junit.Rule;<a name="line.42"></a>
<FONT color="green">043</FONT>    import org.junit.rules.TemporaryFolder;<a name="line.43"></a>
<FONT color="green">044</FONT>    import org.uimafit.component.NoOpAnnotator;<a name="line.44"></a>
<FONT color="green">045</FONT>    import org.uimafit.factory.AnalysisEngineFactory;<a name="line.45"></a>
<FONT color="green">046</FONT>    import org.uimafit.factory.JCasFactory;<a name="line.46"></a>
<FONT color="green">047</FONT>    import org.uimafit.factory.TypeSystemDescriptionFactory;<a name="line.47"></a>
<FONT color="green">048</FONT>    import org.uimafit.pipeline.JCasIterable;<a name="line.48"></a>
<FONT color="green">049</FONT>    <a name="line.49"></a>
<FONT color="green">050</FONT>    /**<a name="line.50"></a>
<FONT color="green">051</FONT>     * &lt;br&gt;<a name="line.51"></a>
<FONT color="green">052</FONT>     * Copyright (c) 2010, Regents of the University of Colorado &lt;br&gt;<a name="line.52"></a>
<FONT color="green">053</FONT>     * All rights reserved.<a name="line.53"></a>
<FONT color="green">054</FONT>     * <a name="line.54"></a>
<FONT color="green">055</FONT>     * @author Philip Ogren<a name="line.55"></a>
<FONT color="green">056</FONT>     */<a name="line.56"></a>
<FONT color="green">057</FONT>    <a name="line.57"></a>
<FONT color="green">058</FONT>    public abstract class CleartkTestBase {<a name="line.58"></a>
<FONT color="green">059</FONT>    <a name="line.59"></a>
<FONT color="green">060</FONT>      /**<a name="line.60"></a>
<FONT color="green">061</FONT>       * A {@link Logger} instance associated with the class, intended for use by subclasses.<a name="line.61"></a>
<FONT color="green">062</FONT>       */<a name="line.62"></a>
<FONT color="green">063</FONT>      protected Logger logger;<a name="line.63"></a>
<FONT color="green">064</FONT>    <a name="line.64"></a>
<FONT color="green">065</FONT>      /**<a name="line.65"></a>
<FONT color="green">066</FONT>       * The set of names for tests that should be disabled.<a name="line.66"></a>
<FONT color="green">067</FONT>       */<a name="line.67"></a>
<FONT color="green">068</FONT>      private Set&lt;String&gt; skippedTestNames;<a name="line.68"></a>
<FONT color="green">069</FONT>    <a name="line.69"></a>
<FONT color="green">070</FONT>      public CleartkTestBase() {<a name="line.70"></a>
<FONT color="green">071</FONT>        super();<a name="line.71"></a>
<FONT color="green">072</FONT>        this.logger = Logger.getLogger(this.getClass().getName());<a name="line.72"></a>
<FONT color="green">073</FONT>        this.skippedTestNames = new HashSet&lt;String&gt;();<a name="line.73"></a>
<FONT color="green">074</FONT>        String skipTests = System.getProperty(SKIP_TESTS_PROPERTY);<a name="line.74"></a>
<FONT color="green">075</FONT>        if (skipTests != null) {<a name="line.75"></a>
<FONT color="green">076</FONT>          this.skippedTestNames.addAll(Arrays.asList(skipTests.split("\\s*[,]\\s*")));<a name="line.76"></a>
<FONT color="green">077</FONT>        }<a name="line.77"></a>
<FONT color="green">078</FONT>      }<a name="line.78"></a>
<FONT color="green">079</FONT>    <a name="line.79"></a>
<FONT color="green">080</FONT>      /**<a name="line.80"></a>
<FONT color="green">081</FONT>       * The name of the property that can be set to skip some tests. The property value will be parsed<a name="line.81"></a>
<FONT color="green">082</FONT>       * as a comma-separated list of values, where each value can designate one type of test to skip,<a name="line.82"></a>
<FONT color="green">083</FONT>       * e.g. {@value #LONG_TESTS_PROPERTY_VALUE} or {@value #BIG_MEMORY_TESTS_PROPERTY_VALUE}. Example<a name="line.83"></a>
<FONT color="green">084</FONT>       * usage: &lt;br/&gt;<a name="line.84"></a>
<FONT color="green">085</FONT>       * &lt;code&gt;-Dcleartk.skipTests=long,bigMem&lt;/code&gt;<a name="line.85"></a>
<FONT color="green">086</FONT>       */<a name="line.86"></a>
<FONT color="green">087</FONT>      public static final String SKIP_TESTS_PROPERTY = "cleartk.skipTests";<a name="line.87"></a>
<FONT color="green">088</FONT>    <a name="line.88"></a>
<FONT color="green">089</FONT>      /**<a name="line.89"></a>
<FONT color="green">090</FONT>       * Value for the {@link #SKIP_TESTS_PROPERTY} property that indicates that commonly skipped tests<a name="line.90"></a>
<FONT color="green">091</FONT>       * should be disabled. Currently, this will disable at least {@value #LONG_TESTS_PROPERTY_VALUE}<a name="line.91"></a>
<FONT color="green">092</FONT>       * and {@value #BIG_MEMORY_TESTS_PROPERTY_VALUE} tests. It will also typically disable tests that<a name="line.92"></a>
<FONT color="green">093</FONT>       * require binaries that are hard to build (e.g. tk-svmlight, crfsuite). Current value:<a name="line.93"></a>
<FONT color="green">094</FONT>       * {@value #COMMON_TESTS_PROPERTY_VALUE}.<a name="line.94"></a>
<FONT color="green">095</FONT>       */<a name="line.95"></a>
<FONT color="green">096</FONT>      public static final String COMMON_TESTS_PROPERTY_VALUE = "common";<a name="line.96"></a>
<FONT color="green">097</FONT>    <a name="line.97"></a>
<FONT color="green">098</FONT>      /**<a name="line.98"></a>
<FONT color="green">099</FONT>       * Value for the {@link #SKIP_TESTS_PROPERTY} property that indicates that all tests that can be<a name="line.99"></a>
<FONT color="green">100</FONT>       * skipped are disabled. Current value: {@value #ALL_TESTS_PROPERTY_VALUE}.<a name="line.100"></a>
<FONT color="green">101</FONT>       */<a name="line.101"></a>
<FONT color="green">102</FONT>      public static final String ALL_TESTS_PROPERTY_VALUE = "all";<a name="line.102"></a>
<FONT color="green">103</FONT>    <a name="line.103"></a>
<FONT color="green">104</FONT>      /**<a name="line.104"></a>
<FONT color="green">105</FONT>       * Subclasses should call this method at the beginning of a test to check whether a specific type<a name="line.105"></a>
<FONT color="green">106</FONT>       * of test is enabled by checking whether the name of that test is contained in the<a name="line.106"></a>
<FONT color="green">107</FONT>       * {@value #SKIP_TESTS_PROPERTY} property. If the name is present, then the test will be skipped.<a name="line.107"></a>
<FONT color="green">108</FONT>       * <a name="line.108"></a>
<FONT color="green">109</FONT>       * Typically, immediately after calling {@link #assumeTestsEnabled}, a test should log a message<a name="line.109"></a>
<FONT color="green">110</FONT>       * created by {@link #createTestEnabledMessage} to explain to a user how to disable the test if<a name="line.110"></a>
<FONT color="green">111</FONT>       * they wish.<a name="line.111"></a>
<FONT color="green">112</FONT>       * <a name="line.112"></a>
<FONT color="green">113</FONT>       * Note that if {@value #SKIP_TESTS_PROPERTY} contains {@value #ALL_TESTS_PROPERTY_VALUE} then the<a name="line.113"></a>
<FONT color="green">114</FONT>       * test will be skipped even if {@link #ALL_TESTS_PROPERTY_VALUE} was not passed as an argument to<a name="line.114"></a>
<FONT color="green">115</FONT>       * this method.<a name="line.115"></a>
<FONT color="green">116</FONT>       */<a name="line.116"></a>
<FONT color="green">117</FONT>      protected void assumeTestsEnabled(String... testNames) {<a name="line.117"></a>
<FONT color="green">118</FONT>        Assume.assumeTrue(!this.skippedTestNames.contains(ALL_TESTS_PROPERTY_VALUE));<a name="line.118"></a>
<FONT color="green">119</FONT>        for (String testName : testNames) {<a name="line.119"></a>
<FONT color="green">120</FONT>          Assume.assumeTrue(!this.skippedTestNames.contains(testName));<a name="line.120"></a>
<FONT color="green">121</FONT>        }<a name="line.121"></a>
<FONT color="green">122</FONT>      }<a name="line.122"></a>
<FONT color="green">123</FONT>    <a name="line.123"></a>
<FONT color="green">124</FONT>      /**<a name="line.124"></a>
<FONT color="green">125</FONT>       * Subclasses should call this method to create a message that explains how to disable a test.<a name="line.125"></a>
<FONT color="green">126</FONT>       * Typically such a message should be logged immediately after calling<a name="line.126"></a>
<FONT color="green">127</FONT>       * {@link #assumeTestsEnabled(String...)}.<a name="line.127"></a>
<FONT color="green">128</FONT>       * <a name="line.128"></a>
<FONT color="green">129</FONT>       * @param testName<a name="line.129"></a>
<FONT color="green">130</FONT>       *          The name of the test (i.e. the value that should be present in the<a name="line.130"></a>
<FONT color="green">131</FONT>       *          {@value #SKIP_TESTS_PROPERTY} property)<a name="line.131"></a>
<FONT color="green">132</FONT>       * @param message<a name="line.132"></a>
<FONT color="green">133</FONT>       *          A message describing the requirements of the tests that are run when the named test is<a name="line.133"></a>
<FONT color="green">134</FONT>       *          enabled.<a name="line.134"></a>
<FONT color="green">135</FONT>       * @return A message that contains both the given description and an explanation of how to disable<a name="line.135"></a>
<FONT color="green">136</FONT>       *         the test.<a name="line.136"></a>
<FONT color="green">137</FONT>       */<a name="line.137"></a>
<FONT color="green">138</FONT>      public static String createTestEnabledMessage(String testName, String message) {<a name="line.138"></a>
<FONT color="green">139</FONT>        String format = "%s. To skip this test, set -D%s=%s";<a name="line.139"></a>
<FONT color="green">140</FONT>        return String.format(format, message.replaceAll("[.]$", ""), SKIP_TESTS_PROPERTY, testName);<a name="line.140"></a>
<FONT color="green">141</FONT>      }<a name="line.141"></a>
<FONT color="green">142</FONT>    <a name="line.142"></a>
<FONT color="green">143</FONT>      /**<a name="line.143"></a>
<FONT color="green">144</FONT>       * Value for the {@link #SKIP_TESTS_PROPERTY} property that indicates that long-running tests<a name="line.144"></a>
<FONT color="green">145</FONT>       * should be disabled. Current value: {@value #LONG_TESTS_PROPERTY_VALUE}.<a name="line.145"></a>
<FONT color="green">146</FONT>       */<a name="line.146"></a>
<FONT color="green">147</FONT>      public static final String LONG_TESTS_PROPERTY_VALUE = "long";<a name="line.147"></a>
<FONT color="green">148</FONT>    <a name="line.148"></a>
<FONT color="green">149</FONT>      /**<a name="line.149"></a>
<FONT color="green">150</FONT>       * Subclasses should call this method at the beginning of a test that will take a long time to<a name="line.150"></a>
<FONT color="green">151</FONT>       * run. Immediately after calling this method, they should also call<a name="line.151"></a>
<FONT color="green">152</FONT>       * &lt;code&gt;this.logger.info({@link #LONG_TEST_MESSAGE})&lt;/code&gt;.<a name="line.152"></a>
<FONT color="green">153</FONT>       */<a name="line.153"></a>
<FONT color="green">154</FONT>      protected void assumeLongTestsEnabled() {<a name="line.154"></a>
<FONT color="green">155</FONT>        // note that we can't log the message here as well, or it the log will display the wrong method<a name="line.155"></a>
<FONT color="green">156</FONT>        this.assumeTestsEnabled(COMMON_TESTS_PROPERTY_VALUE, LONG_TESTS_PROPERTY_VALUE);<a name="line.156"></a>
<FONT color="green">157</FONT>      }<a name="line.157"></a>
<FONT color="green">158</FONT>    <a name="line.158"></a>
<FONT color="green">159</FONT>      /**<a name="line.159"></a>
<FONT color="green">160</FONT>       * A message indicating that the current test runs for a long time, and giving instructions how to<a name="line.160"></a>
<FONT color="green">161</FONT>       * skip it. Should be logged immediately after calling {@link #assumeLongTestsEnabled()}.<a name="line.161"></a>
<FONT color="green">162</FONT>       */<a name="line.162"></a>
<FONT color="green">163</FONT>      protected static final String LONG_TEST_MESSAGE = createTestEnabledMessage(<a name="line.163"></a>
<FONT color="green">164</FONT>          LONG_TESTS_PROPERTY_VALUE,<a name="line.164"></a>
<FONT color="green">165</FONT>          "This test takes a long time to run");<a name="line.165"></a>
<FONT color="green">166</FONT>    <a name="line.166"></a>
<FONT color="green">167</FONT>      /**<a name="line.167"></a>
<FONT color="green">168</FONT>       * Value for the {@link #SKIP_TESTS_PROPERTY} property that indicates that tests requiring a lot<a name="line.168"></a>
<FONT color="green">169</FONT>       * of memory should be disabled. Current value: {@value #BIG_MEMORY_TESTS_PROPERTY_VALUE}.<a name="line.169"></a>
<FONT color="green">170</FONT>       */<a name="line.170"></a>
<FONT color="green">171</FONT>      public static final String BIG_MEMORY_TESTS_PROPERTY_VALUE = "bigMem";<a name="line.171"></a>
<FONT color="green">172</FONT>    <a name="line.172"></a>
<FONT color="green">173</FONT>      /**<a name="line.173"></a>
<FONT color="green">174</FONT>       * Subclasses should call this method at the beginning of a test that will take a long time to<a name="line.174"></a>
<FONT color="green">175</FONT>       * run. Immediately after calling this method, they should also call<a name="line.175"></a>
<FONT color="green">176</FONT>       * &lt;code&gt;this.logger.info({@link #BIG_MEMORY_TEST_MESSAGE})&lt;/code&gt;.<a name="line.176"></a>
<FONT color="green">177</FONT>       */<a name="line.177"></a>
<FONT color="green">178</FONT>      protected void assumeBigMemoryTestsEnabled() {<a name="line.178"></a>
<FONT color="green">179</FONT>        // note that we can't log the message here as well, or it the log will display the wrong method<a name="line.179"></a>
<FONT color="green">180</FONT>        this.assumeTestsEnabled(COMMON_TESTS_PROPERTY_VALUE, BIG_MEMORY_TESTS_PROPERTY_VALUE);<a name="line.180"></a>
<FONT color="green">181</FONT>      }<a name="line.181"></a>
<FONT color="green">182</FONT>    <a name="line.182"></a>
<FONT color="green">183</FONT>      /**<a name="line.183"></a>
<FONT color="green">184</FONT>       * A message indicating that the current test requires a lot of memory, and giving instructions<a name="line.184"></a>
<FONT color="green">185</FONT>       * how to skip it. Should be logged immediately after calling<a name="line.185"></a>
<FONT color="green">186</FONT>       * {@link #assumeBigMemoryTestsEnabled()}.<a name="line.186"></a>
<FONT color="green">187</FONT>       */<a name="line.187"></a>
<FONT color="green">188</FONT>      public static final String BIG_MEMORY_TEST_MESSAGE = createTestEnabledMessage(<a name="line.188"></a>
<FONT color="green">189</FONT>          BIG_MEMORY_TESTS_PROPERTY_VALUE,<a name="line.189"></a>
<FONT color="green">190</FONT>          "This test requires a lot of memory");<a name="line.190"></a>
<FONT color="green">191</FONT>    <a name="line.191"></a>
<FONT color="green">192</FONT>      protected JCas jCas;<a name="line.192"></a>
<FONT color="green">193</FONT>    <a name="line.193"></a>
<FONT color="green">194</FONT>      @Deprecated<a name="line.194"></a>
<FONT color="green">195</FONT>      protected TypeSystemDescription typeSystemDescription;<a name="line.195"></a>
<FONT color="green">196</FONT>    <a name="line.196"></a>
<FONT color="green">197</FONT>      @Rule<a name="line.197"></a>
<FONT color="green">198</FONT>      public TemporaryFolder folder = new TemporaryFolder();<a name="line.198"></a>
<FONT color="green">199</FONT>    <a name="line.199"></a>
<FONT color="green">200</FONT>      protected File outputDirectory;<a name="line.200"></a>
<FONT color="green">201</FONT>    <a name="line.201"></a>
<FONT color="green">202</FONT>      protected String outputDirectoryName;<a name="line.202"></a>
<FONT color="green">203</FONT>    <a name="line.203"></a>
<FONT color="green">204</FONT>      @Before<a name="line.204"></a>
<FONT color="green">205</FONT>      public void setUp() throws Exception {<a name="line.205"></a>
<FONT color="green">206</FONT>        String[] typeSystemDescriptorNames = getTypeSystemDescriptorNames();<a name="line.206"></a>
<FONT color="green">207</FONT>        if (typeSystemDescriptorNames == null) {<a name="line.207"></a>
<FONT color="green">208</FONT>          typeSystemDescription = TypeSystemDescriptionFactory.createTypeSystemDescription();<a name="line.208"></a>
<FONT color="green">209</FONT>        } else {<a name="line.209"></a>
<FONT color="green">210</FONT>          typeSystemDescription = TypeSystemDescriptionFactory.createTypeSystemDescription(typeSystemDescriptorNames);<a name="line.210"></a>
<FONT color="green">211</FONT>        }<a name="line.211"></a>
<FONT color="green">212</FONT>        jCas = JCasFactory.createJCas(typeSystemDescription);<a name="line.212"></a>
<FONT color="green">213</FONT>        outputDirectory = folder.newFolder("output");<a name="line.213"></a>
<FONT color="green">214</FONT>        outputDirectoryName = outputDirectory.getPath();<a name="line.214"></a>
<FONT color="green">215</FONT>      }<a name="line.215"></a>
<FONT color="green">216</FONT>    <a name="line.216"></a>
<FONT color="green">217</FONT>      @Deprecated<a name="line.217"></a>
<FONT color="green">218</FONT>      public String[] getTypeSystemDescriptorNames() {<a name="line.218"></a>
<FONT color="green">219</FONT>        return null;<a name="line.219"></a>
<FONT color="green">220</FONT>      }<a name="line.220"></a>
<FONT color="green">221</FONT>    <a name="line.221"></a>
<FONT color="green">222</FONT>      public int getCollectionReaderCount(CollectionReader reader) throws UIMAException, IOException {<a name="line.222"></a>
<FONT color="green">223</FONT>    <a name="line.223"></a>
<FONT color="green">224</FONT>        AnalysisEngine aeAdapter = AnalysisEngineFactory.createPrimitive(<a name="line.224"></a>
<FONT color="green">225</FONT>            NoOpAnnotator.class,<a name="line.225"></a>
<FONT color="green">226</FONT>            typeSystemDescription);<a name="line.226"></a>
<FONT color="green">227</FONT>    <a name="line.227"></a>
<FONT color="green">228</FONT>        int count = 0;<a name="line.228"></a>
<FONT color="green">229</FONT>        JCasIterable jCases = new JCasIterable(reader, aeAdapter);<a name="line.229"></a>
<FONT color="green">230</FONT>        for (@SuppressWarnings("unused")<a name="line.230"></a>
<FONT color="green">231</FONT>        JCas jcs : jCases) {<a name="line.231"></a>
<FONT color="green">232</FONT>          count++;<a name="line.232"></a>
<FONT color="green">233</FONT>        }<a name="line.233"></a>
<FONT color="green">234</FONT>        return count;<a name="line.234"></a>
<FONT color="green">235</FONT>      }<a name="line.235"></a>
<FONT color="green">236</FONT>    <a name="line.236"></a>
<FONT color="green">237</FONT>      public void testCollectionReaderCount(CollectionReader reader, int expectedCount)<a name="line.237"></a>
<FONT color="green">238</FONT>          throws UIMAException, IOException {<a name="line.238"></a>
<FONT color="green">239</FONT>        assertEquals(expectedCount, getCollectionReaderCount(reader));<a name="line.239"></a>
<FONT color="green">240</FONT>      }<a name="line.240"></a>
<FONT color="green">241</FONT>    <a name="line.241"></a>
<FONT color="green">242</FONT>      /**<a name="line.242"></a>
<FONT color="green">243</FONT>       * Value for the {@link #SKIP_TESTS_PROPERTY} property that indicates that tests requiring the<a name="line.243"></a>
<FONT color="green">244</FONT>       * LIBSVM executables to be installed on your system's path should be disabled. Current value:<a name="line.244"></a>
<FONT color="green">245</FONT>       * {@value #LIBSVM_TESTS_PROPERTY_VALUE}.<a name="line.245"></a>
<FONT color="green">246</FONT>       * <a name="line.246"></a>
<FONT color="green">247</FONT>       * @deprecated Use the constants in the cleartk-ml-libsvm module.<a name="line.247"></a>
<FONT color="green">248</FONT>       */<a name="line.248"></a>
<FONT color="green">249</FONT>      @Deprecated<a name="line.249"></a>
<FONT color="green">250</FONT>      public static final String LIBSVM_TESTS_PROPERTY_VALUE = "libsvm";<a name="line.250"></a>
<FONT color="green">251</FONT>    <a name="line.251"></a>
<FONT color="green">252</FONT>      @Deprecated<a name="line.252"></a>
<FONT color="green">253</FONT>      protected void assumeLibsvmEnabled() {<a name="line.253"></a>
<FONT color="green">254</FONT>        // note that we can't log the message here as well, or it the log will display the wrong method<a name="line.254"></a>
<FONT color="green">255</FONT>        this.assumeTestsEnabled(ALL_TESTS_PROPERTY_VALUE, LIBSVM_TESTS_PROPERTY_VALUE);<a name="line.255"></a>
<FONT color="green">256</FONT>      }<a name="line.256"></a>
<FONT color="green">257</FONT>    <a name="line.257"></a>
<FONT color="green">258</FONT>      @Deprecated<a name="line.258"></a>
<FONT color="green">259</FONT>      public static final String LIBSVM_TEST_MESSAGE = String.format(<a name="line.259"></a>
<FONT color="green">260</FONT>          "This test requires installation of LIBSVM executables.  To skip it, set -D%s=%s",<a name="line.260"></a>
<FONT color="green">261</FONT>          SKIP_TESTS_PROPERTY,<a name="line.261"></a>
<FONT color="green">262</FONT>          LIBSVM_TESTS_PROPERTY_VALUE);<a name="line.262"></a>
<FONT color="green">263</FONT>    <a name="line.263"></a>
<FONT color="green">264</FONT>      /**<a name="line.264"></a>
<FONT color="green">265</FONT>       * Value for the {@link #SKIP_TESTS_PROPERTY} property that indicates that tests requiring the<a name="line.265"></a>
<FONT color="green">266</FONT>       * LIBLINEAR executables to be installed on your system's path should be disabled. Current value:<a name="line.266"></a>
<FONT color="green">267</FONT>       * {@value #LIBLINEAR_TESTS_PROPERTY_VALUE}.<a name="line.267"></a>
<FONT color="green">268</FONT>       * <a name="line.268"></a>
<FONT color="green">269</FONT>       * @deprecated Use the constants in the cleartk-ml-libsvm module.<a name="line.269"></a>
<FONT color="green">270</FONT>       */<a name="line.270"></a>
<FONT color="green">271</FONT>      @Deprecated<a name="line.271"></a>
<FONT color="green">272</FONT>      public static final String LIBLINEAR_TESTS_PROPERTY_VALUE = "liblinear";<a name="line.272"></a>
<FONT color="green">273</FONT>    <a name="line.273"></a>
<FONT color="green">274</FONT>      @Deprecated<a name="line.274"></a>
<FONT color="green">275</FONT>      protected void assumeLiblinearEnabled() {<a name="line.275"></a>
<FONT color="green">276</FONT>        // note that we can't log the message here as well, or it the log will display the wrong method<a name="line.276"></a>
<FONT color="green">277</FONT>        this.assumeTestsEnabled(ALL_TESTS_PROPERTY_VALUE, LIBLINEAR_TESTS_PROPERTY_VALUE);<a name="line.277"></a>
<FONT color="green">278</FONT>      }<a name="line.278"></a>
<FONT color="green">279</FONT>    <a name="line.279"></a>
<FONT color="green">280</FONT>      @Deprecated<a name="line.280"></a>
<FONT color="green">281</FONT>      public static final String LIBLINEAR_TEST_MESSAGE = String.format(<a name="line.281"></a>
<FONT color="green">282</FONT>          "This test requires installation of LIBLINEAR executables.  To skip it, set -D%s=%s",<a name="line.282"></a>
<FONT color="green">283</FONT>          SKIP_TESTS_PROPERTY,<a name="line.283"></a>
<FONT color="green">284</FONT>          LIBLINEAR_TESTS_PROPERTY_VALUE);<a name="line.284"></a>
<FONT color="green">285</FONT>    <a name="line.285"></a>
<FONT color="green">286</FONT>      /**<a name="line.286"></a>
<FONT color="green">287</FONT>       * Value for the {@link #SKIP_TESTS_PROPERTY} property that indicates that tests requiring the<a name="line.287"></a>
<FONT color="green">288</FONT>       * SVMlight executables to be installed on your system's path should be disabled. Current value:<a name="line.288"></a>
<FONT color="green">289</FONT>       * {@value #SVMLIGHT_TESTS_PROPERTY_VALUE}.<a name="line.289"></a>
<FONT color="green">290</FONT>       * <a name="line.290"></a>
<FONT color="green">291</FONT>       * @deprecated Use the constants in the cleartk-ml-svmlight module.<a name="line.291"></a>
<FONT color="green">292</FONT>       */<a name="line.292"></a>
<FONT color="green">293</FONT>      @Deprecated<a name="line.293"></a>
<FONT color="green">294</FONT>      public static final String SVMLIGHT_TESTS_PROPERTY_VALUE = "svmlight";<a name="line.294"></a>
<FONT color="green">295</FONT>    <a name="line.295"></a>
<FONT color="green">296</FONT>      /**<a name="line.296"></a>
<FONT color="green">297</FONT>       * Value for the {@link #SKIP_TESTS_PROPERTY} property that indicates that tests requiring the<a name="line.297"></a>
<FONT color="green">298</FONT>       * SVMlight executables to be installed on your system's path should be disabled. Current value:<a name="line.298"></a>
<FONT color="green">299</FONT>       * {@value #SVMLIGHT_RANK_TESTS_PROPERTY_VALUE}.<a name="line.299"></a>
<FONT color="green">300</FONT>       * <a name="line.300"></a>
<FONT color="green">301</FONT>       * @deprecated Use the constants in the cleartk-ml-svmlight module.<a name="line.301"></a>
<FONT color="green">302</FONT>       */<a name="line.302"></a>
<FONT color="green">303</FONT>      @Deprecated<a name="line.303"></a>
<FONT color="green">304</FONT>      public static final String SVMLIGHT_RANK_TESTS_PROPERTY_VALUE = "svmlightrank";<a name="line.304"></a>
<FONT color="green">305</FONT>    <a name="line.305"></a>
<FONT color="green">306</FONT>      @Deprecated<a name="line.306"></a>
<FONT color="green">307</FONT>      protected void assumeSvmLightEnabled() {<a name="line.307"></a>
<FONT color="green">308</FONT>        // note that we can't log the message here as well, or it the log will display the wrong method<a name="line.308"></a>
<FONT color="green">309</FONT>        this.assumeTestsEnabled(ALL_TESTS_PROPERTY_VALUE, SVMLIGHT_TESTS_PROPERTY_VALUE);<a name="line.309"></a>
<FONT color="green">310</FONT>      }<a name="line.310"></a>
<FONT color="green">311</FONT>    <a name="line.311"></a>
<FONT color="green">312</FONT>      @Deprecated<a name="line.312"></a>
<FONT color="green">313</FONT>      public static final String SVMLIGHT_TEST_MESSAGE = String.format(<a name="line.313"></a>
<FONT color="green">314</FONT>          "This test requires installation of SVMlight executables.  To skip it, set -D%s=%s",<a name="line.314"></a>
<FONT color="green">315</FONT>          SKIP_TESTS_PROPERTY,<a name="line.315"></a>
<FONT color="green">316</FONT>          SVMLIGHT_TESTS_PROPERTY_VALUE);<a name="line.316"></a>
<FONT color="green">317</FONT>    <a name="line.317"></a>
<FONT color="green">318</FONT>      @Deprecated<a name="line.318"></a>
<FONT color="green">319</FONT>      public static final String SVMLIGHT_RANK_TEST_MESSAGE = String.format(<a name="line.319"></a>
<FONT color="green">320</FONT>          "This test requires installation of SVMlightRank executables.  To skip it, set -D%s=%s",<a name="line.320"></a>
<FONT color="green">321</FONT>          SKIP_TESTS_PROPERTY,<a name="line.321"></a>
<FONT color="green">322</FONT>          SVMLIGHT_TESTS_PROPERTY_VALUE);<a name="line.322"></a>
<FONT color="green">323</FONT>    <a name="line.323"></a>
<FONT color="green">324</FONT>      /**<a name="line.324"></a>
<FONT color="green">325</FONT>       * Value for the {@link #SKIP_TESTS_PROPERTY} property that indicates that tests requiring the TK<a name="line.325"></a>
<FONT color="green">326</FONT>       * SvmLight executables to be installed on your system's path should be disabled. Current value:<a name="line.326"></a>
<FONT color="green">327</FONT>       * {@value #TK_SVMLIGHT_TESTS_PROPERTY_VALUE}.<a name="line.327"></a>
<FONT color="green">328</FONT>       * <a name="line.328"></a>
<FONT color="green">329</FONT>       * @deprecated Use the constants in the cleartk-ml-tksvmlight module.<a name="line.329"></a>
<FONT color="green">330</FONT>       */<a name="line.330"></a>
<FONT color="green">331</FONT>      @Deprecated<a name="line.331"></a>
<FONT color="green">332</FONT>      public static final String TK_SVMLIGHT_TESTS_PROPERTY_VALUE = "tksvmlight";<a name="line.332"></a>
<FONT color="green">333</FONT>    <a name="line.333"></a>
<FONT color="green">334</FONT>      @Deprecated<a name="line.334"></a>
<FONT color="green">335</FONT>      protected void assumeTkSvmLightEnabled() {<a name="line.335"></a>
<FONT color="green">336</FONT>        // note that we can't log the message here as well, or it the log will display the wrong method<a name="line.336"></a>
<FONT color="green">337</FONT>        this.assumeTestsEnabled(<a name="line.337"></a>
<FONT color="green">338</FONT>            ALL_TESTS_PROPERTY_VALUE,<a name="line.338"></a>
<FONT color="green">339</FONT>            COMMON_TESTS_PROPERTY_VALUE,<a name="line.339"></a>
<FONT color="green">340</FONT>            TK_SVMLIGHT_TESTS_PROPERTY_VALUE);<a name="line.340"></a>
<FONT color="green">341</FONT>      }<a name="line.341"></a>
<FONT color="green">342</FONT>    <a name="line.342"></a>
<FONT color="green">343</FONT>      @Deprecated<a name="line.343"></a>
<FONT color="green">344</FONT>      public static final String TK_SVMLIGHT_TEST_MESSAGE = String.format(<a name="line.344"></a>
<FONT color="green">345</FONT>          "This test requires installation of tree-kernel SVMlight executables.  To skip it, set -D%s=%s",<a name="line.345"></a>
<FONT color="green">346</FONT>          SKIP_TESTS_PROPERTY,<a name="line.346"></a>
<FONT color="green">347</FONT>          TK_SVMLIGHT_TESTS_PROPERTY_VALUE);<a name="line.347"></a>
<FONT color="green">348</FONT>    <a name="line.348"></a>
<FONT color="green">349</FONT>    }<a name="line.349"></a>




























































</PRE>
</BODY>
</HTML>
